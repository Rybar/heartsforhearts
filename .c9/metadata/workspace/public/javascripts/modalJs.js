{"changed":true,"filter":false,"title":"modalJs.js","tooltip":"/public/javascripts/modalJs.js","value":"// variables\nvar modalGreeting = document.getElementById('donationGreeting');\nvar modalGreetingTransferButton = document.getElementById('greetingTransfer');\nvar modalCallToAction = document.getElementById('donationCallToAction');\nvar centerDonateButton = document.getElementById('centerDonate');\nvar ThankYouModalWindow = document.getElementById('ThankYouModal');\n/*\nvar bluePreviewSelector = document.getElementById('blueselector');\nvar lightBluePreviewSelector = document.getElementById('lightblueselector');\nvar greenPreviewSelector = document.getElementById('greenselector');\nvar goldPreviewSelector = document.getElementById('goldselector');\nvar orangePreviewSelector = document.getElementById('orangeselector');\nvar redPreviewSelector = document.getElementById('redselector');\nvar pinkPreviewSelector = document.getElementById('pinkselector');\nvar purplePreviewSelector = document.getElementById('purpleselector'); */\nvar heartPreviewSelector = document.getElementById('heartPreview');\nvar anonymousToggle = document.getElementById('anonymousInfo');\nvar donationHeartColor = \"blue\";\nvar donationHeartStyle = \"B\";\nvar styleCounter = 1;\n// Event listeners\ncenterDonateButton.addEventListener('click', centerDonateModalActivation);\nmodalGreetingTransferButton.addEventListener('click', transferModal);\n// Ask Ryan about the following 2 lines. Something is clicking every element\n/*bluePreviewSelector.addEventListener('click', console.log(\"check1\"));\nlightBluePreviewSelector.addEventListener('click', console.log('check2')); */\n$('#blueselector').on('click', function() {\n   changeBlue();\n});\n$('#lightblueselector').on('click', function() {\n   changeLightBlue();\n});\n$('#greenselector').on('click', function() {\n   changeGreen();\n});\n$('#goldselector').on('click', function() {\n   changeGold();\n});\t\n$('#orangeselector').on('click', function() {\n   changeOrange();\n});\n$('#redselector').on('click', function() {\n   changeRed();\n});\n$('#pinkselector').on('click', function() {\n   changePink();\n});\n$('#purpleselector').on('click', function() {\n   changePurple();\n});\n// Below is the jquery way of doing the anonymouse checkbox disabling\n/*$('#anonymousInfo').on('click', function() {\n   console.log('hitting');\n   console.log(anonymousToggle.val());\n});*/\t\nanonymousToggle.addEventListener('click', function(){\n   //console.log(anonymousToggle.checked);\n   if(anonymousToggle.checked === true) {\n       document.getElementById('nameInfo').disabled = true;\n       document.getElementById('emailInfo').disabled = true;\n       //document.getElementById('dedicatedNameInfo').disabled = true;\n       //document.getElementById('dedicatedEmailInfo').disabled = true;\t       \n       document.getElementById('messageInfo').disabled = true;\n       clearInputFields();\n   } else {\n       document.getElementById('nameInfo').disabled = false;\n       document.getElementById('emailInfo').disabled = false;\n       document.getElementById('dedicatedNameInfo').disabled = false;\n       document.getElementById('dedicatedEmailInfo').disabled = false;\t       \n       document.getElementById('messageInfo').disabled = false;\t       \n   }\n});\nfunction clearInputFields() {\n       document.getElementById('nameInfo').value = \"\";\n       document.getElementById('emailInfo').value = \"\";\n       document.getElementById('dedicatedNameInfo').value = \"\";\n       document.getElementById('dedicatedEmailInfo').value = \"\";\t       \n       document.getElementById('messageInfo').value = \"\";\n}\n// Don't mind this yet.\n/*greenPreviewSelector.addEventListener('click', changeGreen());\ngoldPreviewSelector.addEventListener('click', changeGold());\norangePreviewSelector.addEventListener('click', changeOrange());\npinkPreviewSelector.addEventListener('click', changePink());\npurplePreviewSelector.addEventListener('click', changePurple());*/\t\n// The following change the heart style.\n$('#leftDesignScroller').on('click', function() {\n    styleCounter++;\n    donationHeartStyle = HeartStyleArray [ Math.abs(styleCounter) % HeartStyleArray.length ];\n    $(\"#heartPreview\").html( donationHeartStyle );\n})\n$('#rightDesignScroller').on('click', function() {\n    styleCounter--;\n\tdonationHeartStyle = HeartStyleArray [ Math.abs(styleCounter) % HeartStyleArray.length ];\n    $(\"#heartPreview\").html( donationHeartStyle );\n})\n// The following reset order of modals after a modal is turned off. Later, it will reset preview and form values.\n$('#myModal').on('hidden.bs.modal', function (e) {\n    modalCallToAction.setAttribute('aria-hidden', 'true');\n    ThankYouModalWindow.setAttribute('aria-hidden', 'true');    \n    modalGreeting.setAttribute('aria-hidden', 'false');\n    clearInputFields();\n    document.getElementById('currencyInfo').value = \"\";\n\tdocument.getElementById('donationInfo').value = \"\";    \n});\t\nvar HeartPreviewRefresher = setInterval(function() {ResizeHeartPreview()}, 60);\nfunction ResizeHeartPreview() {\n    var CurrentDonationAmount = document.getElementById('donationInfo').value;    \n    //document.getElementById('heartPreview').style.fontSize = \"30rem\";\n    var smallsize = \"10rem\";\n    var mediumsize = \"13rem\";\n    var largesize = \"17rem\";\n    var xlargesize = \"23rem\";\n    var epicsize = \"29rem\";\n    if (CurrentDonationAmount >= 25) {\n        heartPreviewSelector.style.fontSize = epicsize;        \n    } else if (CurrentDonationAmount >= 20) {\n        heartPreviewSelector.style.fontSize = xlargesize;\n    } else if (CurrentDonationAmount >= 15) {\n        heartPreviewSelector.style.fontSize = largesize;\n    } else if (CurrentDonationAmount >= 10) {\n        heartPreviewSelector.style.fontSize = mediumsize;\n    } else {\n        heartPreviewSelector.style.fontSize = smallsize;        \n    }  \n}\nfunction thankYou() {\n    activateModal();\n    modalCallToAction.setAttribute('aria-hidden', 'true');\n    modalGreeting.setAttribute('aria-hidden', 'true');     \n    ThankYouModalWindow.setAttribute('aria-hidden', 'false');\n}\n\nfunction thankYouTransition(qJustGivingID) {\n    activateModal();\n    modalCallToAction.setAttribute('aria-hidden', 'false');\n    modalGreeting.setAttribute('aria-hidden', 'true');     \n    ThankYouModalWindow.setAttribute('aria-hidden', 'true');\n}\n\nfunction activateModal() {\n    $('#myModal').modal('toggle');\n}\nfunction centerDonateModalActivation() {\n    activateModal();\n    transferModal();\n}\nfunction transferModal() {\n    modalCallToAction.setAttribute('aria-hidden', 'false');\n    modalGreeting.setAttribute('aria-hidden', 'true');\n}\n// This is the array that changes the letter\nvar HeartStyleArray = [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\", \"K\", \"L\", \"M\"];\n// This is where the heart style is in the form of a letter.\nvar previewHeartStyle = $(\"#heartPreview span\").html();\n// This is the array that switches the class of the heart preview\nvar previewHeartColor = [\"blue\", \"lightblue\", \"green\", \"gold\", \"orange\", \"red\", \"pink\", \"purple\"];\n// Remove Color class of preview\nfunction removeColorPreview() {\n    $(\"#heartPreview\").removeClass(\"blue lightblue green gold orange red pink purple\");\n    /*$(\"#heartPreview\").removeClass(\"lightblue\");\n    $(\"#heartPreview\").removeClass(\"green\");\n    $(\"#heartPreview\").removeClass(\"gold\");\n    $(\"#heartPreview\").removeClass(\"orange\");\n    $(\"#heartPreview\").removeClass(\"red\");\n    $(\"#heartPreview\").removeClass(\"pink\");\n    $(\"#heartPreview\").removeClass(\"purple\");*/\n}\n// Following functions add the selected color class to preview and assign the color class in a js variable\nfunction changeBlue () {\n    removeColorPreview();\n    $(\"#heartPreview\").addClass(\"blue\");\n    donationHeartColor = \"blue\";\n}\nfunction changeLightBlue() {\n    removeColorPreview();\n    $(\"#heartPreview\").addClass(\"lightblue\");\n    donationHeartColor = \"lightblue\";\n}\nfunction changeGreen() {\n    removeColorPreview();\n    $(\"#heartPreview\").addClass(\"green\");\n    donationHeartColor = \"green\";    \n}\nfunction changeGold() {\n    removeColorPreview();\n    $(\"#heartPreview\").addClass(\"gold\");\n    donationHeartColor = \"gold\";    \n}\nfunction changeOrange() {\n    removeColorPreview();\n    $(\"#heartPreview\").addClass(\"orange\");\n    donationHeartColor = \"orange\";    \n}\nfunction changeRed() {\n    removeColorPreview();\n    $(\"#heartPreview\").addClass(\"red\");\n    donationHeartColor = \"red\";    \n}\nfunction changePink() {\n    removeColorPreview();\n    $(\"#heartPreview\").addClass(\"pink\");\n    donationHeartColor = \"pink\";    \n}\nfunction changePurple() {\n    removeColorPreview();\n    $(\"#heartPreview\").addClass(\"purple\");\n    donationHeartColor = \"purple\";    \n}\nfunction submitForm() {\n    var outURL = \"https://v3-sandbox.justgiving.com/Ryan-Malm/4w350m3/donate/\";\n    //var exitURL = \"&exitURL=\" + encodeURIComponent( \"https://heartsforhearts-rybar.c9.io/hearts/\" )\n    var exitURL = \"&exitURL=\" + encodeURIComponent( \"https://cryptic-tundra-5274.herokuapp.com/\" )\n    \n    var fullURL = outURL\n            //these first 3 will auto-fill the donation form at justGiving donation page.\n            + \"?amount=\" + document.donation.amount.value\n            + \"&defaultMessage=\" + document.donation.message.value\n            + \"&amount=\" + document.donation.amount.value\n            // next we compose our return URL, which will create a new heart on the page.\n    \t\t+ exitURL\n    \t\t+ encodeURIComponent( \"?\" + $(\"form\").serialize() \n    \t\t    + \"&addHeart=true\" //triggers addHeart() on return\n         \t    + \"&color=\" + donationHeartColor\n         \t    + \"&style=\" + donationHeartStyle\n         \t\t+ \"&donationId=JUSTGIVING-DONATION-ID\" ) //end encodeURIComponent creation\n    \t\t//end string construction\n\n    // URL = \"justgiving charity page\" + simpleDonation query + RedirectURL + our Query\n    // SCHEMA from justgiving: http://www.justgiving.com/{shortUrl}/4w350m3/donate/?amount={suggestedAmount}&exitUrl=http%3a%2f%2fwww.myredirecturl.com%2fpath?donationId=JUSTGIVING-DONATION-ID\n    console.log(fullURL)\n    window.open(fullURL)\n} \n","undoManager":{"mark":3,"position":72,"stack":[[{"group":"doc","deltas":[{"start":{"row":60,"column":7},"end":{"row":60,"column":8},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":8},"end":{"row":60,"column":9},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":61,"column":7},"end":{"row":61,"column":8},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":61,"column":8},"end":{"row":61,"column":9},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":130,"column":61},"end":{"row":130,"column":65},"action":"remove","lines":["    "]},{"start":{"row":130,"column":61},"end":{"row":131,"column":23},"action":"insert","lines":["","    populateThankYou();"]}]}],[{"group":"doc","deltas":[{"start":{"row":131,"column":4},"end":{"row":131,"column":23},"action":"remove","lines":["populateThankYou();"]}]}],[{"group":"doc","deltas":[{"start":{"row":131,"column":4},"end":{"row":131,"column":15},"action":"insert","lines":["$('#thank')"]},{"start":{"row":132,"column":2},"end":{"row":133,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":131,"column":13},"end":{"row":131,"column":15},"action":"insert","lines":["Yo"]}]}],[{"group":"doc","deltas":[{"start":{"row":131,"column":8},"end":{"row":131,"column":15},"action":"remove","lines":["thankYo"]},{"start":{"row":131,"column":8},"end":{"row":131,"column":20},"action":"insert","lines":["thankYouLink"]},{"start":{"row":131,"column":22},"end":{"row":131,"column":23},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":131,"column":22},"end":{"row":131,"column":23},"action":"remove","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":131,"column":22},"end":{"row":131,"column":23},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":131,"column":23},"end":{"row":131,"column":24},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":131,"column":24},"end":{"row":131,"column":25},"action":"insert","lines":["t"]},{"start":{"row":131,"column":25},"end":{"row":131,"column":26},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":131,"column":26},"end":{"row":131,"column":27},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":131,"column":27},"end":{"row":131,"column":29},"action":"insert","lines":["()"]}]}],[{"group":"doc","deltas":[{"start":{"row":131,"column":28},"end":{"row":131,"column":30},"action":"insert","lines":["\"\""]}]}],[{"group":"doc","deltas":[{"start":{"row":131,"column":29},"end":{"row":131,"column":30},"action":"insert","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":131,"column":30},"end":{"row":131,"column":31},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":131,"column":31},"end":{"row":131,"column":32},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":131,"column":32},"end":{"row":131,"column":33},"action":"insert","lines":["f"]}]}],[{"group":"doc","deltas":[{"start":{"row":131,"column":34},"end":{"row":131,"column":35},"action":"insert","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":131,"column":35},"end":{"row":131,"column":36},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":131,"column":36},"end":{"row":131,"column":38},"action":"insert","lines":["\"\""]}]}],[{"group":"doc","deltas":[{"start":{"row":131,"column":37},"end":{"row":131,"column":38},"action":"insert","lines":["P"]}]}],[{"group":"doc","deltas":[{"start":{"row":131,"column":38},"end":{"row":131,"column":39},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":131,"column":39},"end":{"row":131,"column":40},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":131,"column":40},"end":{"row":131,"column":41},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":131,"column":41},"end":{"row":131,"column":42},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":131,"column":42},"end":{"row":131,"column":43},"action":"insert","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":131,"column":43},"end":{"row":131,"column":44},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":131,"column":44},"end":{"row":131,"column":45},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":131,"column":45},"end":{"row":131,"column":46},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":131,"column":46},"end":{"row":131,"column":47},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":131,"column":47},"end":{"row":131,"column":48},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":131,"column":50},"end":{"row":131,"column":51},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":132,"column":1},"end":{"row":132,"column":2},"action":"remove","lines":[" "]},{"start":{"row":132,"column":1},"end":{"row":133,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":133,"column":0},"end":{"row":134,"column":2},"action":"insert","lines":["","fu"]}]}],[{"group":"doc","deltas":[{"start":{"row":134,"column":2},"end":{"row":134,"column":7},"action":"insert","lines":["nctio"]}]}],[{"group":"doc","deltas":[{"start":{"row":134,"column":7},"end":{"row":134,"column":8},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":134,"column":8},"end":{"row":134,"column":9},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":134,"column":9},"end":{"row":134,"column":10},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":134,"column":9},"end":{"row":134,"column":10},"action":"remove","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":126,"column":9},"end":{"row":126,"column":10},"action":"remove","lines":["T"]},{"start":{"row":126,"column":9},"end":{"row":126,"column":10},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":134,"column":9},"end":{"row":134,"column":10},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":134,"column":9},"end":{"row":134,"column":10},"action":"remove","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":134,"column":9},"end":{"row":134,"column":10},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":134,"column":10},"end":{"row":134,"column":14},"action":"insert","lines":["hank"]}]}],[{"group":"doc","deltas":[{"start":{"row":134,"column":14},"end":{"row":134,"column":19},"action":"insert","lines":["YouTr"]}]}],[{"group":"doc","deltas":[{"start":{"row":134,"column":19},"end":{"row":134,"column":21},"action":"insert","lines":["an"]}]}],[{"group":"doc","deltas":[{"start":{"row":134,"column":21},"end":{"row":134,"column":27},"action":"insert","lines":["sition"]}]}],[{"group":"doc","deltas":[{"start":{"row":134,"column":27},"end":{"row":134,"column":29},"action":"insert","lines":["()"]}]}],[{"group":"doc","deltas":[{"start":{"row":134,"column":29},"end":{"row":135,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":134,"column":29},"end":{"row":134,"column":30},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":134,"column":30},"end":{"row":134,"column":31},"action":"insert","lines":["{"]}]}],[{"group":"doc","deltas":[{"start":{"row":134,"column":31},"end":{"row":136,"column":1},"action":"insert","lines":["","    ","}"]}]}],[{"group":"doc","deltas":[{"start":{"row":135,"column":4},"end":{"row":135,"column":8},"action":"insert","lines":["acti"]}]}],[{"group":"doc","deltas":[{"start":{"row":135,"column":4},"end":{"row":135,"column":8},"action":"remove","lines":["acti"]},{"start":{"row":135,"column":4},"end":{"row":135,"column":19},"action":"insert","lines":["activateModal()"]}]}],[{"group":"doc","deltas":[{"start":{"row":135,"column":19},"end":{"row":136,"column":4},"action":"insert","lines":[";","    "]}]}],[{"group":"doc","deltas":[{"start":{"row":135,"column":20},"end":{"row":138,"column":61},"action":"insert","lines":["","        modalCallToAction.setAttribute('aria-hidden', 'true');","    modalGreeting.setAttribute('aria-hidden', 'true');     ","    ThankYouModalWindow.setAttribute('aria-hidden', 'false');"]}]}],[{"group":"doc","deltas":[{"start":{"row":136,"column":4},"end":{"row":136,"column":8},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":130,"column":61},"end":{"row":131,"column":51},"action":"remove","lines":["","    $('#thankYouLink').attr(\"href\", \"Placeholder\");"]}]}],[{"group":"doc","deltas":[{"start":{"row":135,"column":51},"end":{"row":135,"column":55},"action":"remove","lines":["true"]},{"start":{"row":135,"column":51},"end":{"row":135,"column":56},"action":"insert","lines":["false"]}]}],[{"group":"doc","deltas":[{"start":{"row":137,"column":53},"end":{"row":137,"column":58},"action":"remove","lines":["false"]},{"start":{"row":137,"column":53},"end":{"row":137,"column":57},"action":"insert","lines":["true"]}]}],[{"group":"doc","deltas":[{"start":{"row":133,"column":28},"end":{"row":133,"column":29},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":133,"column":28},"end":{"row":133,"column":29},"action":"remove","lines":["d"]},{"start":{"row":133,"column":28},"end":{"row":133,"column":35},"action":"insert","lines":["heartID"]}]}],[{"group":"doc","deltas":[{"start":{"row":137,"column":60},"end":{"row":138,"column":4},"action":"insert","lines":["","    "]}]}],[{"group":"doc","deltas":[{"start":{"row":133,"column":28},"end":{"row":133,"column":35},"action":"remove","lines":["heartID"]},{"start":{"row":133,"column":28},"end":{"row":133,"column":40},"action":"insert","lines":["justGivingID"]}]}],[{"group":"doc","deltas":[{"start":{"row":133,"column":28},"end":{"row":133,"column":40},"action":"remove","lines":["justGivingID"]},{"start":{"row":133,"column":28},"end":{"row":133,"column":41},"action":"insert","lines":["qJustGivingID"]}]}],[{"group":"doc","deltas":[{"start":{"row":139,"column":0},"end":{"row":139,"column":2},"action":"remove","lines":["  "]}]}],[{"group":"doc","deltas":[{"start":{"row":138,"column":4},"end":{"row":139,"column":2},"action":"remove","lines":["","  "]}]}],[{"group":"doc","deltas":[{"start":{"row":138,"column":0},"end":{"row":138,"column":4},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":137,"column":60},"end":{"row":138,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":138,"column":1},"end":{"row":139,"column":0},"action":"insert","lines":["",""]}]}]]},"ace":{"folds":[],"scrolltop":600,"scrollleft":0,"selection":{"start":{"row":133,"column":9},"end":{"row":133,"column":27},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":148,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1429062827314}